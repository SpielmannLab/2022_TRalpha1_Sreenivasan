# Usage : nextflow run /data/humangen_mouse/scpipeline/src/sc_multi_sample.nf -params-file /data/humangen_mouse/scpipeline/sc_multi_sample.yaml --id ${SCRATCH/"/scratch/"/}

# Provide full path to the "xxx_normalized.rds" files generated by the sc_p_sample_main.sh pipeline. Seperate files in new lines with "-" bullet points
filenames:
- "/data/humangen_mouse/hypthmsMittag/analysis/scpipeline_analysis/single_sample_set7/normalized/rep1-tra1_normalized.rds"
- "/data/humangen_mouse/hypthmsMittag/analysis/scpipeline_analysis/single_sample_set7/normalized/rep1-wt_normalized.rds"
- "/data/humangen_mouse/hypthmsMittag/analysis/scpipeline_analysis/single_sample_set7/normalized/rep2-tra1_normalized.rds"
- "/data/humangen_mouse/hypthmsMittag/analysis/scpipeline_analysis/single_sample_set7/normalized/rep2-wt_normalized.rds"


# Set the number of computing cores. Hardwired to 8. Do not change if you didn't change the internal script
ncores: 8

# Parameters for the pipeline

# Merging or Integration
task: "merge"                   # Choose: merge, integrate-seurat, integrate-harmony
method: "standard"              # Choose: standard or SCT
project: "hypthmsMittag"         # Name of the merged or integrated dataset. Used to name output file. No "_" allowed
nhvg: 4000                      # Number of relevant features. Used for all three tasks
npcs: 20                        # Required only for integrate-seurat or integrate-harmony. Number of PCs.
nclust:                        # Required only for integrate-harmony
reference:                      # [optional] The # of the sample(s) to be used as the reference during integration. Used only for task integrate-seurat
sampleTree:                     # [optional, Advanced syntax] Specify the order of integration for integrate-seurat
covars:                         # [optional] Which metadata to regress out? Comma separated. Used for all tasks

# dim_reduction

#cluster
res: "0.008,0.01"

#DE genes
min_cell_group: 50
min_pct : 0.1
logfc_threshold: 0.25
res_de_genes: 0.008
test_use: 'wilcox' # 'roc','wilcox' (default in Seurat),'negbin'
features: "Mog" #List of genes to be visualized in UMAP space(comma seperated value)
no_of_pages: 1 # Number of pages to split the genes for feature plot

# Folder where results should be saved. Need not exist
outfolder: "/data/humangen_mouse/hypthmsMittag/analysis/scpipeline_analysis/multi_sample_set7_merge/"
